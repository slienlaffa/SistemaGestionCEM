@model IEnumerable<SistemaGestionCEM.Datos.PERSONA>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

    string sesionActual = "";
    string nombre = "";

    if (Session["SesionActual"] != null)
    {
        sesionActual = Session["SesionActual"].ToString();
    }

    if (Session["Nombre"] != null)
    {
        nombre = Session["Nombre"].ToString();
    }
}

@section ContenidoCentral
{

    <h2>Bienvenido a su panel administrativo, @nombre</h2>
    <h3>Esta es una lista de todos los usuarios disponibles en la base de datos.</h3>

 
        <table class="table table-responsive">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.COD_PERSONA)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.NOMBRE)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.USUARIO.NOMBRE_USUARIO)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.USUARIO.TIPO_USUARIO.DESCRIPCION)
                </th>
                <th>
                    Acción
                </th>
            </tr>

            @foreach (var item in Model)
            {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.COD_PERSONA)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.NOMBRE)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.USUARIO.NOMBRE_USUARIO)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.USUARIO.TIPO_USUARIO.DESCRIPCION)
                        </td>
                        <td>
                            @Html.ActionLink("Modificar datos", "Edit", new { id = item.COD_PERSONA }) |
                            @Html.ActionLink("Ver Detalle", "DetalleAlumno", new { id = item.COD_PERSONA }) |
                            @Html.ActionLink("Eliminar", "Delete", new { id = item.COD_PERSONA})
                        </td>
                    </tr>
                }
        </table>
    
   
}



